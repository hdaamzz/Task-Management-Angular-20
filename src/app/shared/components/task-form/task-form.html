<div class="p-8 sm:p-10 bg-white/90 backdrop-blur-md rounded-3xl shadow-2xl border border-gray-200/50">
  <!-- Header -->
  <div class="mb-8">
    <h2 class="text-3xl sm:text-4xl font-bold text-gray-900 mb-2">
      {{ isEditMode ? 'Edit Task' : 'Create New Task' }}
    </h2>
    <div class="h-1 w-20 bg-linear-to-r from-[#19A7CE] to-transparent rounded-full"></div>
  </div>

  <form [formGroup]="taskForm" (ngSubmit)="onSubmit()" class="space-y-6">
    <!-- Title -->
    <div class="form-group">
      <label for="title" class="block text-sm font-semibold text-gray-900 mb-2">
        Title <span class="text-[#19A7CE]">*</span>
      </label>
      <input
        id="title"
        type="text"
        formControlName="title"
        placeholder="Enter task title"
        class="w-full px-4 py-3 bg-gray-50/80 backdrop-blur-sm border border-gray-200 rounded-xl text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#19A7CE]/50 focus:border-[#19A7CE]/30 transition-all duration-300 shadow-sm" />
      
      @if (taskForm.get('title')?.invalid && taskForm.get('title')?.touched) {
        <div class="mt-2 flex items-start gap-2">
          <svg class="w-4 h-4 text-red-500 mt-0.5 shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
          </svg>
          <div class="text-red-600 text-sm">
            @if (taskForm.get('title')?.errors?.['required']) {
              <span>Title is required</span>
            }
            @if (taskForm.get('title')?.errors?.['minlength']) {
              <span>Title must be at least 3 characters</span>
            }
          </div>
        </div>
      }
    </div>

    <!-- Description -->
    <div class="form-group">
      <label for="description" class="block text-sm font-semibold text-gray-900 mb-2">
        Description <span class="text-[#19A7CE]">*</span>
      </label>
      <div class="bg-gray-50/80 backdrop-blur-sm border border-gray-200 rounded-xl overflow-hidden focus-within:ring-2 focus-within:ring-[#19A7CE]/50 focus-within:border-[#19A7CE]/30 transition-all duration-300 shadow-sm">
        <quill-editor
          formControlName="description"
          [modules]="quillConfig"
          placeholder="Enter task description..."
          class="quill-glassmorphic">
        </quill-editor>
      </div>
      
      @if (taskForm.get('description')?.invalid && taskForm.get('description')?.touched) {
        <div class="mt-2 flex items-start gap-2">
          <svg class="w-4 h-4 text-red-500 mt-0.5 shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
          </svg>
          <span class="text-red-600 text-sm">Description is required</span>
        </div>
      }
    </div>

    <!-- Deadline + Status -->
    <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
      <!-- Deadline -->
      <div class="form-group">
        <label for="deadline" class="block text-sm font-semibold text-gray-900 mb-2">
          Deadline <span class="text-[#19A7CE]">*</span>
        </label>
        <div class="relative">
          <input
            id="deadline"
            type="date"
            formControlName="deadline"
            class="w-full px-4 py-3 bg-gray-50/80 backdrop-blur-sm border border-gray-200 rounded-xl text-gray-900 focus:outline-none focus:ring-2 focus:ring-[#19A7CE]/50 focus:border-[#19A7CE]/30 transition-all duration-300 shadow-sm" />
          <svg class="absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-[#19A7CE] pointer-events-none" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>
          </svg>
        </div>
        
        @if (taskForm.get('deadline')?.invalid && taskForm.get('deadline')?.touched) {
          <div class="mt-2 flex items-start gap-2">
            <svg class="w-4 h-4 text-red-500 mt-0.5 shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
            </svg>
            <span class="text-red-600 text-sm">Deadline is required</span>
          </div>
        }
      </div>

      <!-- Status -->
      <div class="form-group">
        <label for="status" class="block text-sm font-semibold text-gray-900 mb-2">
          Status <span class="text-[#19A7CE]">*</span>
        </label>
        <div class="relative">
          <select
            id="status"
            formControlName="status"
            class="w-full px-4 py-3 bg-gray-50/80 backdrop-blur-sm border border-gray-200 rounded-xl text-gray-900 focus:outline-none focus:ring-2 focus:ring-[#19A7CE]/50 focus:border-[#19A7CE]/30 transition-all duration-300 appearance-none cursor-pointer shadow-sm">
            @for (status of taskStatuses; track status) {
              <option [value]="status" class="bg-white text-gray-900">
                {{ status }}
              </option>
            }
          </select>
          <svg class="absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-[#19A7CE] pointer-events-none" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
          </svg>
        </div>
      </div>
    </div>

    <!-- Actions -->
    <div class="flex flex-col sm:flex-row justify-end gap-3 pt-6 border-t border-gray-200/50">
      <button
        type="button"
        class="group px-6 py-3 bg-gray-100 hover:bg-gray-200 backdrop-blur-sm border border-gray-200 rounded-xl text-gray-900 font-semibold transition-all duration-300 hover:scale-105 flex items-center justify-center gap-2 shadow-sm"
        (click)="onCancel()">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
        </svg>
        Cancel
      </button>

      <button
        type="submit"
        class="group px-6 py-3 bg-linear-to-r from-[#19A7CE] to-[#1488B0] hover:from-[#1488B0] hover:to-[#19A7CE] rounded-xl text-white font-semibold transition-all duration-300 hover:scale-105 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 flex items-center justify-center gap-2"
        [disabled]="taskForm.invalid">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
        </svg>
        {{ isEditMode ? 'Update Task' : 'Create Task' }}
      </button>
    </div>
  </form>
</div>
